<h2>details-conversation</h2>
<div fxLayout="row">
  <div fxFlex="60">
    <md-list>
      <md-list-item *ngFor="let message of conversation?.messages" [ngSwitch]="message.type">
        <zp-user-link [userKey]="message.author"></zp-user-link>
        <zp-conversation-attachment-message *ngSwitchCase="'attachment'" [message]="message"></zp-conversation-attachment-message>
        <zp-conversation-event-message *ngSwitchCase="'event'" [message]="message"></zp-conversation-event-message>
        <zp-conversation-markup-message *ngSwitchCase="'markup'" [message]="message"></zp-conversation-markup-message>
        <zp-conversation-default-message *NgSwitchDefault [message]="message"></zp-conversation-default-message>
      </md-list-item>
    </md-list>
    <form mdContent (ngSubmit)="onSubmit(form, $event)" novalidate #form="ngForm" fxLayout="column" id="zpAddConversationMessage">
      <md-input-container>
        <input mdInput ngModel name="message" type="text" placeholder="Message" required autocomplete="off" />
      </md-input-container>
      <button md-button [disabled]="form.invalid && !conversation" form="zpAddConversationMessage">Submit</button>
    </form>
  </div>
  <div fxFlex="40">
    <nav>
      <button md-button (click)="onPurgConversation($event)"><md-icon>clear</md-icon></button>
      <zp-file-upload [folder]="conversation?.room.metadata.attachments" [owner]="conversation?.room.owner" (confirmed)="onRequestConfirmed($event)"></zp-file-upload>
    </nav>
    <zp-view-action-container [view]="view" [context]="context"></zp-view-action-container>
    <zp-details-group [group]="conversation?.room"></zp-details-group>
  </div>
</div>
